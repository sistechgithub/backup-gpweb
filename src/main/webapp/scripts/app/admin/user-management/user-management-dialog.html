<form name="editForm" role="form" novalidate 
	show-validation>

	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal"
			aria-hidden="true" ng-click="clear()">&times;</button>
		<h4 class="modal-title" id="myUserLabel">Criar ou editar um
			usuário</h4>
	</div>
	<div class="modal-body">
		<div class="form-group">
			<label>ID</label> <input type="text" class="form-control" name="id"
				ng-model="user.id" readonly>
		</div>

		<div class="form-group">
			<label>Usuário</label> <input type="text" class="form-control"
				name="login" ng-model="user.login" ng-required="user.id == null"
				ng-maxlength="50">

			<div ng-show="editForm.login.$invalid">
				<p class="help-block" ng-show="editForm.login.$error.required">
					Você deve informar um usuário válido.</p>

				<p class="help-block" ng-show="editForm.login.$error.maxlength"
					translate-value-max="50">O usuário não pode conter mais que 50
					caracteres.</p>
			</div>
		</div>
		<div class="form-group">
			<label>Nome</label> <input type="text" class="form-control"
				name="firstName" ng-model="user.firstName" ng-maxlength="50">

			<div ng-show="editForm.firstName.$invalid">
				<p class="help-block" ng-show="editForm.firstName.$error.maxlength"
					translate-value-max="50">O nome não pode conter mais que 50
					caracteres.</p>
			</div>
		</div>
		<div class="form-group">
			<label>Sobrenome</label> <input type="text" class="form-control"
				name="lastName" ng-model="user.lastName" ng-maxlength="50">

			<div ng-show="editForm.lastName.$invalid">
				<p class="help-block" ng-show="editForm.lastName.$error.maxlength"
					translate-value-max="50">O sobrenome não pode conter mais que
					50 caracteres.</p>
			</div>
		</div>
		<div class="form-group">
			<label>Email</label> <input type="text" class="form-control"
				name="email" ng-model="user.email" required ng-maxlength="100">

			<div ng-show="editForm.email.$invalid">
				<p class="help-block" ng-show="editForm.email.$error.required">
					Informe um e-mail válido.</p>

				<p class="help-block" ng-show="editForm.email.$error.maxlength"
					translate-value-max="100">O e-mail não pode conter mais que 100
					caracteres.</p>
			</div>
		</div>
		<div class="form-group">
			<label for="password">Senha</label> <input type="password"
				class="form-control" id="password" name="password"
				placeholder="Senha" ng-model="user.password"
				ng-minlength=5 ng-maxlength=50 required>
			<div ng-show="form.password.$dirty && form.password.$invalid">
				<p class="help-block" ng-show="form.password.$error.required">
					Digite sua senha.</p>
				<p class="help-block" ng-show="form.password.$error.minlength">
					A senha deve conter no mínimo 5 caracteres.</p>
				<p class="help-block" ng-show="form.password.$error.maxlength">
					A senha deve conter no máximo 50 caracteres.</p>
			</div>
			<password-strength-bar password-to-check="registerAccount.password"></password-strength-bar>
		</div>
		<div class="form-group">
			<label for="confirmPassword">Confirmação de senha</label> <input
				type="password" class="form-control" id="confirmPassword"
				name="confirmPassword" placeholder="Confirme a senha"
				ng-model="confirmPassword" ng-minlength=5 ng-maxlength=50 required>
			<div
				ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid">
				<p class="help-block" ng-show="form.confirmPassword.$error.required">
					Digite a confirmação da senha.</p>
				<p class="help-block"
					ng-show="form.confirmPassword.$error.minlength">A confirmação
					de senha precisa ter no mínimo 5 caracteres.</p>
				<p class="help-block"
					ng-show="form.confirmPassword.$error.maxlength">A confirmação
					de senha deve ter no máximo 50 caracteres.</p>
			</div>
		</div>
		<div class="form-group">
			<label for="activated"> <input type="checkbox" id="activated"
				ng-model="user.activated"> <span>Ativado</span>
			</label>
		</div>

		<div class="form-group">
			<label>Perfis</label> <select class="form-control" multiple
				name="authority" ng-model="user.authorities"
				ng-options="authority for authority in authorities">
			</select>
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default" data-dismiss="modal"
			ng-click="clear()">
			<span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span>Cancelar</span>
		</button>
		<button type="button" ng-disabled="editForm.$invalid || isSaving" ng-show="user.id != null" 
		ng-click="save()"
			class="btn btn-primary">
			<span class="glyphicon glyphicon-save"></span>&nbsp;<span>Salvar</span>
		</button>
		
		<button type="button" ng-disabled="editForm.$invalid || isSaving" ng-show="user.id == null" 
		ng-click="register()"
			class="btn btn-primary">
			<span class="glyphicon glyphicon-save"></span>&nbsp;<span>Registrar</span>
		</button>
	</div>
</form>